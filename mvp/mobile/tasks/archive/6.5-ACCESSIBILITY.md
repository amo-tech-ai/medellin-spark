# Week 6.5: Accessibility Audit ⚠️ CRITICAL

**Status**: ⬜ BLOCKED (awaiting Week 6)
**Hours**: 8
**Budget**: $1,000
**Priority**: P0 - LEGAL REQUIREMENT
**Goal**: WCAG 2.1 AA compliance

---

## Overview

Accessibility is **NOT optional**. This week ensures:
- Legal compliance (ADA, Section 508)
- Inclusive design for all users
- Screen reader compatibility
- Keyboard navigation support

---

## Tasks

### Task 6.5.1: Automated Accessibility Testing (3 hours)

**Priority**: P0

**Install Tools**:
```bash
pnpm add -D @axe-core/playwright eslint-plugin-jsx-a11y
```

**Run Automated Audits**:
```typescript
// e2e/accessibility.spec.ts
import { test, expect } from '@playwright/test';
import { injectAxe, checkA11y } from 'axe-playwright';

test.describe('Accessibility Audit', () => {
  test('Dashboard accessibility', async ({ page }) => {
    await page.goto('http://localhost:8080/dashboard');
    await injectAxe(page);

    await checkA11y(page, null, {
      detailedReport: true,
      detailedReportOptions: { html: true },
      axeOptions: {
        rules: {
          'color-contrast': { enabled: true },
          'label': { enabled: true },
          'button-name': { enabled: true },
          'link-name': { enabled: true }
        }
      }
    });
  });

  test('Forms accessibility', async ({ page }) => {
    await page.goto('http://localhost:8080/startup-profile');
    await injectAxe(page);
    await checkA11y(page);
  });
});
```

**Run Lighthouse Accessibility**:
```bash
pnpm lighthouse --only-categories=accessibility
# Target: Score >95
```

**Success Criteria**:
- ✅ 0 critical axe violations
- ✅ 0 serious axe violations
- ✅ Lighthouse accessibility >95

---

### Task 6.5.2: Manual Screen Reader Testing (3 hours)

**Priority**: P0

**iOS VoiceOver Testing** (90 min):
```markdown
### Setup
1. iPhone → Settings → Accessibility → VoiceOver → ON
2. Triple-click side button to toggle VoiceOver

### Tests
- [ ] Navigate Dashboard with VoiceOver
  - All metric cards announce correctly
  - Bottom nav buttons have labels
  - Hamburger menu announces "Open menu"

- [ ] Test Pitch Deck Wizard
  - Chat messages readable in order
  - Input field labeled "Describe your startup"
  - Send button announces "Send message"

- [ ] Test Forms
  - All form fields have labels
  - Error messages announced
  - Submit button clearly labeled

- [ ] Test Event Cards
  - Event title and description announced
  - Register button clearly labeled
  - Images have alt text
```

**Android TalkBack Testing** (90 min):
```markdown
### Setup
1. Android → Settings → Accessibility → TalkBack → ON

### Tests
- [ ] Bottom navigation with TalkBack
  - All buttons announce correctly
  - Active state announced

- [ ] Chat messages readable
- [ ] Event registration flow complete
- [ ] Form completion possible
```

**Success Criteria**:
- ✅ All tasks completable with screen reader only
- ✅ No missing labels
- ✅ Logical focus order

---

### Task 6.5.3: Keyboard Navigation Audit (2 hours)

**Priority**: P0

**Testing Process**:
```markdown
### Keyboard-Only Navigation

**Dashboard**:
1. Tab through all interactive elements
   - [ ] Focus indicators visible (2px outline)
   - [ ] Tab order logical (left to right, top to bottom)
   - [ ] All cards keyboard-accessible
   - [ ] Skip to content link present

2. Test hamburger menu
   - [ ] Opens with Enter/Space
   - [ ] Closes with Escape
   - [ ] Focus trapped in drawer when open
   - [ ] Focus returns to trigger when closed

**Forms**:
1. Tab through form fields
   - [ ] All fields keyboard-accessible
   - [ ] Labels associated correctly
   - [ ] Error messages accessible
   - [ ] Submit with Enter key

**Modals/Dialogs**:
1. Test modal behavior
   - [ ] Opens with keyboard
   - [ ] Focus trapped in modal
   - [ ] Closes with Escape
   - [ ] Focus returns to trigger
```

**Success Criteria**:
- ✅ All interactive elements keyboard-accessible
- ✅ Focus indicators visible (min 2px)
- ✅ Logical tab order
- ✅ No keyboard traps (except intended)

---

## Common Accessibility Fixes

### Fix 1: Add ARIA Labels
```typescript
// BEFORE (inaccessible)
<button className="...">
  <Send className="w-5 h-5" />
</button>

// AFTER (accessible)
<button
  aria-label="Send message"
  className="..."
>
  <Send className="w-5 h-5" aria-hidden="true" />
  <span className="sr-only">Send message</span>
</button>
```

### Fix 2: Associate Labels
```typescript
// BEFORE (not associated)
<label>Email</label>
<input type="email" />

// AFTER (properly associated)
<label htmlFor="email-input">Email</label>
<input id="email-input" type="email" aria-describedby="email-hint" />
<span id="email-hint" className="text-sm">We'll never share your email</span>
```

### Fix 3: Add Alt Text
```typescript
// BEFORE (missing alt)
<img src={event.image} />

// AFTER (descriptive alt)
<img
  src={event.image}
  alt={`${event.title} - ${event.category} event on ${event.date}`}
/>
```

### Fix 4: Focus Indicators
```css
/* Add to global CSS */
:focus-visible {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible,
input:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}
```

---

## Compliance Checklist

### WCAG 2.1 AA Requirements

**Perceivable**:
- [ ] All images have alt text
- [ ] Color contrast ≥4.5:1 for text
- [ ] Color contrast ≥3:1 for UI components
- [ ] No information by color alone

**Operable**:
- [ ] All functionality keyboard-accessible
- [ ] Focus indicators visible
- [ ] No keyboard traps
- [ ] Skip to content links
- [ ] Touch targets ≥44×44px

**Understandable**:
- [ ] Clear labels on all inputs
- [ ] Error messages descriptive
- [ ] Consistent navigation
- [ ] Language specified (lang="en")

**Robust**:
- [ ] Valid HTML
- [ ] ARIA used correctly
- [ ] Name, role, value for components
- [ ] Status messages announced

---

## Tools & Resources

### Testing Tools
- **axe DevTools**: https://www.deque.com/axe/devtools/
- **WAVE**: https://wave.webaim.org/extension/
- **Lighthouse**: Built into Chrome DevTools
- **VoiceOver**: iOS built-in screen reader
- **TalkBack**: Android built-in screen reader

### Reference
- **WCAG 2.1**: https://www.w3.org/WAI/WCAG21/quickref/
- **ARIA Authoring Practices**: https://www.w3.org/WAI/ARIA/apg/

---

## Completion Criteria

**Week 6.5 is DONE when**:
- ✅ 0 critical axe violations
- ✅ 0 serious axe violations
- ✅ Lighthouse accessibility >95
- ✅ VoiceOver navigation complete
- ✅ TalkBack navigation complete
- ✅ Keyboard navigation working
- ✅ All focus indicators visible
- ✅ WCAG 2.1 AA compliant

**⚠️ PRODUCTION BLOCKER**: Cannot deploy without passing all criteria

**Next**: [WEEK-7-DEPLOYMENT.md](./WEEK-7-DEPLOYMENT.md)
